import{Q as u}from"./QBtn.02cef3e0.js";import{Q as C}from"./QAvatar.ff360a4e.js";import{Q as w,a as Q,b as v,c as x,d as y}from"./QLayout.9a18bef6.js";import{n as R,u as B,ar as L,v as S,aa as T,V,o as n,p as c,w as a,x as o,z as t,W as m,X as d,Y as N,$ as D}from"./index.31f00e6e.js";import{u as H}from"./auth.b6bd1098.js";import{u as I}from"./room.65373b80.js";import{_ as $}from"./OverlappingAvatars.f5dca592.js";import{o as j,d as q,c as z}from"./firebase.21bf6f1f.js";import"./scroll.82d444d4.js";const A={key:0},E={key:1,class:"flex items-center q-gutter-sm"},F={class:"text-weight-bold"},Z=R({__name:"ChatLayout",setup(M){const _=B(),p=L(),{isLoggedIn:f,handleSignOut:h}=H(),{room:s,fetchRoomData:k,joinRoom:b}=I();let r=null;const g=e=>{r=j(q(z,e),l=>{if(l.exists()){const i=l.data();s.users=i.users||[]}})};return S(async()=>{const e=p.params.id;await k(e),await b(e),g(e)}),T(()=>{r&&r()}),(e,l)=>{const i=V("router-view");return n(),c(w,{view:"lHh Lpr lFf"},{default:a(()=>[o(x,null,{default:a(()=>[o(Q,{class:"bg-pink-5"},{default:a(()=>[o(u,{icon:"arrow_back",round:"",flat:"",onClick:t(_).back},null,8,["onClick"]),o(v,null,{default:a(()=>[t(s).loading?(n(),m("div",A,[o(C,{type:"rect",width:"100px"})])):(n(),m("div",E,[d("span",F,N(t(s).name),1),o($,{users:t(s).users},null,8,["users"])]))]),_:1}),d("div",null,[t(f)?(n(),c(u,{key:0,label:"sign out",color:"white","text-color":"negative",onClick:t(h)},null,8,["onClick"])):D("",!0)])]),_:1})]),_:1}),o(y,null,{default:a(()=>[o(i)]),_:1})]),_:1})}}});export{Z as default};
