import{Q as O,a as B,b as P,c as T,d as U}from"./QLayout.1be02410.js";import{Q as M,a as D}from"./scroll.a8da4cf4.js";import{b as j,Q as y,c as L}from"./QBtn.1106fff4.js";import{m as E,V as K,W as b,t as w,X as W,A as i,Y as h,P as X,n as Q,Z as Y,B as Z,o as G,$ as J,p,q as ee,w as u,x as o,y as k,z as F,a0 as x,a1 as g,a2 as te,a3 as ae,a4 as oe}from"./index.b7c3ad49.js";import{Q as ne}from"./QScrollObserver.2a6200a8.js";import{u as le}from"./auth.3820e33c.js";import"./firebase.b163514c.js";var re=E({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(a,{slots:_,emit:d}){const{proxy:{$q:f}}=Z(),t=K(Y,b);if(t===b)return console.error("QFooter needs to be child of QLayout"),b;const c=w(parseInt(a.heightHint,10)),l=w(!0),n=w(W.value===!0||t.isContainer.value===!0?0:window.innerHeight),v=i(()=>a.reveal===!0||t.view.value.indexOf("F")!==-1||f.platform.is.ios&&t.isContainer.value===!0),q=i(()=>t.isContainer.value===!0?t.containerHeight.value:n.value),C=i(()=>{if(a.modelValue!==!0)return 0;if(v.value===!0)return l.value===!0?c.value:0;const e=t.scroll.value.position+q.value+c.value-t.height.value;return e>0?e:0}),V=i(()=>a.modelValue!==!0||v.value===!0&&l.value!==!0),H=i(()=>a.modelValue===!0&&V.value===!0&&a.reveal===!0),R=i(()=>"q-footer q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-bottom"+(a.bordered===!0?" q-footer--bordered":"")+(V.value===!0?" q-footer--hidden":"")+(a.modelValue!==!0?" q-layout--prevent-focus"+(v.value!==!0?" hidden":""):"")),A=i(()=>{const e=t.rows.value.bottom,r={};return e[0]==="l"&&t.left.space===!0&&(r[f.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(r[f.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),r});function s(e,r){t.update("footer",e,r)}function m(e,r){e.value!==r&&(e.value=r)}function N({height:e}){m(c,e),s("size",e)}function S(){if(a.reveal!==!0)return;const{direction:e,position:r,inflectionPoint:I}=t.scroll.value;m(l,e==="up"||r-I<100||t.height.value-q.value-r-c.value<300)}function $(e){H.value===!0&&m(l,!0),d("focusin",e)}h(()=>a.modelValue,e=>{s("space",e),m(l,!0),t.animate()}),h(C,e=>{s("offset",e)}),h(()=>a.reveal,e=>{e===!1&&m(l,a.modelValue)}),h(l,e=>{t.animate(),d("reveal",e)}),h([c,t.scroll,t.height],S),h(()=>f.screen.height,e=>{t.isContainer.value!==!0&&m(n,e)});const z={};return t.instances.footer=z,a.modelValue===!0&&s("size",c.value),s("space",a.modelValue),s("offset",C.value),X(()=>{t.instances.footer===z&&(t.instances.footer=void 0,s("size",0),s("offset",0),s("space",!1))}),()=>{const e=j(_.default,[Q(ne,{debounce:0,onResize:N})]);return a.elevated===!0&&e.push(Q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),Q("footer",{class:R.value,style:A.value,onFocusin:$},e)}}});const se={key:0,class:"q-px-md row q-gutter-sm"},ue={key:1,class:"q-mx-sm row q-gutter-sm items-center"},ie=["src"],ce={class:"row items-center q-gutter-sm"},_e=G({__name:"MainLayout",setup(a){const{isLoggedIn:_,user:d,handleSignOut:f}=le(),t=i(()=>{var l,n;return{name:((l=d.value)==null?void 0:l.displayName)||"",photoURL:((n=d.value)==null?void 0:n.photoURL)||""}}),c=i(()=>!d.value);return(l,n)=>{const v=J("router-view");return p(),ee(O,{view:"lHh Lpr lFf"},{default:u(()=>[o(T,null,{default:u(()=>[o(B,{class:"bg-pink-5"},{default:u(()=>[o(P,null,{default:u(()=>n[0]||(n[0]=[k("Ahmad Chat App")])),_:1}),F(_)?(p(),x(ae,{key:0},[c.value?(p(),x("div",se,[o(M,{type:"QAvatar",size:"sm"})])):(p(),x("div",ue,[g("div",null,te(t.value.name),1),o(D,{size:"md"},{default:u(()=>[g("img",{src:t.value.photoURL},null,8,ie)]),_:1})])),g("div",null,[o(y,{label:"sign out",color:"white","text-color":"negative",onClick:F(f)},null,8,["onClick"])])],64)):oe("",!0)]),_:1})]),_:1}),o(U,null,{default:u(()=>[o(v)]),_:1}),o(re,{bordered:"",class:"bg-pink-1 text-grey-8"},{default:u(()=>[o(B,null,{default:u(()=>[g("div",ce,[o(y,{dense:"","no-caps":"",round:"",href:"https://github.com/29-29/chat-app",target:"_blank"},{default:u(()=>[o(L,{name:"img:src/assets/github-mark.svg",color:"grey-8"})]),_:1}),g("div",null,[n[1]||(n[1]=k(" Made with ")),o(L,{name:"favorite",color:"pink-13",size:"sm"}),n[2]||(n[2]=k(" by "))]),o(y,{"no-caps":"",dense:"",rounded:"",unelevated:"",color:"pink-13",href:"https://github.com/29-29",target:"_blank",label:"Ahmad",class:"q-px-sm"})])]),_:1})]),_:1})]),_:1})}}});export{_e as default};
